---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';

const predictionCategories = [
  {
    id: 'education',
    title: 'Education & Learning',
    icon: 'üìö',
    houses: [4, 5, 9, 11],
    description: 'Academic success, higher education, skill development, and intellectual pursuits analysis.',
    factors: [
      { label: '4th Cusp Sub Lord', value: 'Moon', significance: 'Signifies 4, 5 - Basic education successful' },
      { label: '5th House Significators', value: 'Mercury, Jupiter', significance: 'Intelligence and creative learning indicated' },
      { label: '9th House Significators', value: 'Jupiter, Mercury', significance: 'Higher education and wisdom favored' },
      { label: 'Mercury (Vidya Karaka)', value: 'House 10', significance: 'Education leads to career success' },
    ],
    prediction: 'Strong educational prospects indicated in the horoscope. Mercury in 10th suggests education directly benefiting career. The 4th and 5th house connections indicate success in primary and secondary education. Jupiter\'s influence on 9th house promises success in higher education, research, and professional certifications. Competitive exams favored during Mercury-Jupiter periods.',
    timing: 'Best study periods: Mercury and Jupiter Bhuktis',
    confidence: 88,
  },
  {
    id: 'mortgage',
    title: 'Mortgage & Home Loans',
    icon: 'üè¶',
    houses: [4, 6, 8, 12],
    description: 'Analysis of home loan approvals, mortgage timing, debt management, and financial obligations.',
    factors: [
      { label: '4th Cusp Sub Lord', value: 'Saturn', significance: 'Signifies 4, 6 - Property through loans possible' },
      { label: '6th House Significators', value: 'Mars, Saturn', significance: 'Ability to take and repay debts' },
      { label: '8th House Connection', value: 'Venus', significance: 'Sudden gains may help repayment' },
      { label: '12th House Analysis', value: 'Mercury', significance: 'Expenses and EMI management' },
    ],
    prediction: 'Home loan approval is indicated when 4th house connects with 6th house (debts) and 11th house (gains). Saturn\'s involvement suggests long-term loans with disciplined repayment. The 8th house connection indicates possibility of inheritance or unexpected funds helping loan closure. Best to avoid loans during Rahu periods as they may lead to hidden complications.',
    timing: 'Favorable loan periods: Saturn-Venus, Jupiter-Saturn',
    confidence: 76,
  },
  {
    id: 'realestate',
    title: 'Real Estate & Property',
    icon: 'üè†',
    houses: [4, 11, 12],
    description: 'Property purchase, land acquisition, real estate investments, and rental income analysis.',
    factors: [
      { label: '4th Cusp Sub Lord', value: 'Jupiter', significance: 'Signifies 4, 11 - Property gains indicated' },
      { label: '4th House Significators', value: 'Moon, Venus, Saturn', significance: 'Multiple property ownership possible' },
      { label: 'Mars (Bhoomi Karaka)', value: 'House 2', significance: 'Land and property accumulation favored' },
      { label: '11th House Connection', value: 'Saturn', significance: 'Gains through real estate' },
    ],
    prediction: 'Real estate acquisition is strongly indicated. The 4th cusp sub lord connecting to 11th house promises gains through property. Mars as Bhoomi Karaka in 2nd house indicates accumulation of immovable assets. Multiple properties possible when 4th lord aspects or conjoins benefics. Rental income indicated if 4th connects with 2nd and 11th houses.',
    timing: 'Property purchase periods: Venus-Saturn, Jupiter Mahadasha',
    confidence: 82,
  },
  {
    id: 'matchmaking',
    title: 'Match Making & Compatibility',
    icon: 'üíë',
    houses: [1, 7, 8, 12],
    description: 'Partner compatibility analysis, marriage matching, and relationship harmony predictions.',
    factors: [
      { label: '7th Cusp Sub Lord', value: 'Venus', significance: 'Signifies 2, 7, 11 - Compatible marriage promised' },
      { label: 'Venus Position', value: 'House 11 in Shatabhisha', significance: 'Partner brings gains and fulfillment' },
      { label: '8th House Analysis', value: 'Jupiter', significance: 'Long-lasting marital bond indicated' },
      { label: 'Nakshatra Compatibility', value: 'Favorable', significance: 'Good mental and emotional compatibility' },
    ],
    prediction: 'Match making analysis shows favorable prospects. The 7th cusp sub lord Venus being significator of 2, 7, 11 confirms successful marriage. Jupiter\'s aspect on 7th house indicates a wise, understanding partner. The 8th house analysis suggests longevity of marriage bond. Nakshatra compatibility indicates good mental wavelength with spouse. Partners from Venus or Jupiter-ruled signs highly compatible.',
    timing: 'Best matching period: Venus-Jupiter, Moon-Venus',
    confidence: 85,
  },
  {
    id: 'love',
    title: 'Love & Relationships',
    icon: '‚ù§Ô∏è',
    houses: [5, 7, 11],
    description: 'Romantic relationships, love affairs, dating prospects, and emotional connections analysis.',
    factors: [
      { label: '5th Cusp Sub Lord', value: 'Moon', significance: 'Signifies 5, 7, 11 - Love marriage possible' },
      { label: '5th House Significators', value: 'Venus, Moon, Mercury', significance: 'Strong romantic inclinations' },
      { label: 'Venus (Love Karaka)', value: 'House 11', significance: 'Fulfillment in romantic pursuits' },
      { label: '7th House Connection', value: 'Jupiter', significance: 'Love leading to marriage' },
    ],
    prediction: 'Strong romantic prospects indicated in the horoscope. The 5th cusp sub lord connecting to 7th house suggests love leading to marriage. Venus in 11th house indicates fulfillment of romantic desires and gains through love. Moon\'s influence on 5th house shows emotional depth in relationships. Multiple romantic interests possible during Venus and Moon periods. Love marriage indicated when 5th lord connects with 7th house significators.',
    timing: 'Romantic periods: Venus-Moon, Moon-Venus, Jupiter-Venus',
    confidence: 80,
  },
];
---

<Layout title="Predictions">
  <Navigation currentPath="/predictions" />

  <main class="pt-20 min-h-screen bg-[--color-cream]">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <!-- Header -->
      <div class="text-center mb-12">
        <h1 class="font-heading text-3xl md:text-4xl text-[--color-espresso] mb-4">
          KP Predictions
        </h1>
        <p class="text-[--color-text-secondary] max-w-2xl mx-auto">
          Detailed predictions based on house significators, cusp sub lords, and planetary positions.
          Each prediction shows the astrological reasoning for educational purposes.
        </p>
      </div>

      <!-- Prediction Cards -->
      <div class="space-y-8">
        {predictionCategories.map((category) => (
          <div class="card overflow-hidden" id={category.id}>
            <div class="p-6 md:p-8 border-b border-[--color-border] bg-gradient-to-r from-[--color-pearl] to-[--color-cream]">
              <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                <div class="flex items-center gap-4">
                  <span class="text-4xl">{category.icon}</span>
                  <div>
                    <h2 class="font-heading text-2xl text-[--color-espresso]">{category.title}</h2>
                    <p class="text-sm text-[--color-text-secondary]">{category.description}</p>
                  </div>
                </div>
                <div class="flex items-center gap-4">
                  <div class="text-right">
                    <p class="text-xs text-[--color-text-muted]">Relevant Houses</p>
                    <div class="flex gap-1 mt-1">
                      {category.houses.map((house) => (
                        <span class="house-badge">{house}</span>
                      ))}
                    </div>
                  </div>
                  <div class="text-right">
                    <p class="text-xs text-[--color-text-muted]">Confidence</p>
                    <div class="flex items-center gap-2 mt-1">
                      <div class="w-20 h-2 bg-[--color-linen] rounded-full overflow-hidden">
                        <div
                          class="h-full rounded-full transition-all"
                          style={`width: ${category.confidence}%; background-color: ${category.confidence >= 80 ? 'var(--color-benefic)' : category.confidence >= 60 ? 'var(--color-golden-hour)' : 'var(--color-malefic)'}`}
                        ></div>
                      </div>
                      <span class="text-sm font-semibold text-[--color-espresso]">{category.confidence}%</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="p-6 md:p-8">
              <!-- Astrological Factors -->
              <div class="mb-6">
                <h3 class="font-heading text-lg text-[--color-espresso] mb-4 flex items-center gap-2">
                  <svg class="w-5 h-5 text-[--color-terracotta]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                  </svg>
                  Astrological Factors
                </h3>
                <div class="grid md:grid-cols-3 gap-4">
                  {category.factors.map((factor) => (
                    <div class="p-4 rounded-lg bg-[--color-linen]/50 border border-[--color-border]">
                      <p class="text-xs text-[--color-text-muted] mb-1">{factor.label}</p>
                      <p class="font-semibold text-[--color-espresso] mb-2">{factor.value}</p>
                      <p class="text-xs text-[--color-text-secondary]">{factor.significance}</p>
                    </div>
                  ))}
                </div>
              </div>

              <!-- Prediction -->
              <div class="mb-6">
                <h3 class="font-heading text-lg text-[--color-espresso] mb-4 flex items-center gap-2">
                  <svg class="w-5 h-5 text-[--color-celestial-blue]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                  </svg>
                  Prediction & Analysis
                </h3>
                <div class="p-4 rounded-lg bg-[--color-surface] border border-[--color-border]">
                  <p class="text-[--color-text-secondary] leading-relaxed">{category.prediction}</p>
                </div>
              </div>

              <!-- Timing -->
              <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 p-4 rounded-lg bg-[--color-golden-hour]/10 border border-[--color-golden-hour]/20">
                <div class="flex items-center gap-3">
                  <svg class="w-5 h-5 text-[--color-golden-hour]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  <div>
                    <p class="text-xs text-[--color-text-muted]">Timing Indication</p>
                    <p class="font-medium text-[--color-espresso]">{category.timing}</p>
                  </div>
                </div>
                <a href="/dasha" class="btn btn-ghost text-sm">
                  View Dasha Timeline
                  <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        ))}
      </div>

      <!-- Disclaimer -->
      <div class="mt-12 p-6 rounded-lg bg-[--color-warm-sand] border border-[--color-border]">
        <div class="flex gap-4">
          <svg class="w-6 h-6 text-[--color-taupe] shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <div>
            <h4 class="font-heading text-lg text-[--color-espresso] mb-2">About KP Predictions</h4>
            <p class="text-sm text-[--color-text-secondary] leading-relaxed">
              These predictions are generated based on the Krishnamurti Paddhati (KP) system of Vedic astrology.
              The confidence percentage indicates the strength of astrological factors supporting each prediction.
              Predictions are meant for educational and self-reflection purposes. Major life decisions should
              consider multiple factors beyond astrological guidance.
            </p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <Footer />
</Layout>
