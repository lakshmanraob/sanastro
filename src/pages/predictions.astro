---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';

const predictionCategories = [
  {
    id: 'marriage',
    title: 'Marriage & Relationships',
    icon: 'üíç',
    houses: [2, 7, 11],
    description: 'Analysis of marriage timing, spouse characteristics, and relationship harmony.',
    factors: [
      { label: '7th Cusp Sub Lord', value: 'Venus', significance: 'Connected to 2, 7, 11 - Marriage promised' },
      { label: '7th House Significators', value: 'Venus, Jupiter, Moon', significance: 'Strong benefic influence' },
      { label: 'Venus Position', value: 'House 11 in Shatabhisha', significance: 'Favorable for gains through partnership' },
    ],
    prediction: 'Marriage is strongly indicated in the horoscope. The 7th cusp sub lord Venus being significator of 2, 7, 11 confirms marriage. Timing: During Venus-Moon-Jupiter period when transiting Jupiter crosses natal Venus degree.',
    timing: 'Favorable periods: 2024-2026',
    confidence: 85,
  },
  {
    id: 'career',
    title: 'Career & Profession',
    icon: 'üíº',
    houses: [2, 6, 10],
    description: 'Professional growth, job changes, business success, and career path analysis.',
    factors: [
      { label: '10th Cusp Sub Lord', value: 'Moon', significance: 'Signifies 6, 10 - Service oriented career' },
      { label: '10th House Significators', value: 'Saturn, Mercury, Sun', significance: 'Technical or administrative work' },
      { label: 'Mercury Position', value: 'House 10 (Retrograde)', significance: 'Repeated efforts needed, eventual success' },
    ],
    prediction: 'Career in service sector or technical field indicated. Mercury retrograde in 10th suggests initial challenges but eventual mastery. Saturn\'s aspect on 10th indicates steady, long-term career growth.',
    timing: 'Major career advancement: Saturn Bhukti periods',
    confidence: 78,
  },
  {
    id: 'finance',
    title: 'Finance & Wealth',
    icon: 'üí∞',
    houses: [2, 6, 11],
    description: 'Wealth accumulation, income sources, and financial stability predictions.',
    factors: [
      { label: '2nd Cusp Sub Lord', value: 'Mercury', significance: 'Signifies 2, 10 - Income through profession' },
      { label: '11th House Significators', value: 'Jupiter, Venus, Saturn', significance: 'Multiple income sources' },
      { label: 'Jupiter Position', value: 'House 11 in Dhanishta', significance: 'Favorable for wealth accumulation' },
    ],
    prediction: 'Good wealth potential indicated. Jupiter in 11th is excellent for financial gains. Multiple income sources possible. Savings will increase during Jupiter and Venus periods.',
    timing: 'Best financial periods: Jupiter Mahadasha',
    confidence: 82,
  },
  {
    id: 'health',
    title: 'Health & Vitality',
    icon: 'üè•',
    houses: [1, 6, 8, 12],
    description: 'Physical health, potential ailments, and periods requiring caution.',
    factors: [
      { label: '1st Cusp Sub Lord', value: 'Saturn', significance: 'Indicates longevity and general health' },
      { label: '6th House Significators', value: 'Mars, Rahu', significance: 'Potential for inflammatory conditions' },
      { label: 'Ascendant Lord Mars', value: 'House 2', significance: 'Good vitality, watch diet' },
    ],
    prediction: 'Generally good health indicated. Mars as ascendant lord gives energy and vitality. Care needed during Rahu periods for digestive issues. Regular exercise beneficial.',
    timing: 'Cautious periods: Rahu-Mars, Saturn-Rahu',
    confidence: 75,
  },
  {
    id: 'education',
    title: 'Education & Learning',
    icon: 'üìö',
    houses: [4, 9, 11],
    description: 'Academic success, higher education, and skill development analysis.',
    factors: [
      { label: '4th Cusp Sub Lord', value: 'Moon', significance: 'Signifies 4, 5 - Basic education successful' },
      { label: '9th House Significators', value: 'Jupiter, Mercury', significance: 'Higher education indicated' },
      { label: 'Mercury (Vidya Karaka)', value: 'House 10', significance: 'Education leads to career success' },
    ],
    prediction: 'Strong educational prospects. Mercury in 10th suggests education directly benefiting career. Higher education and professional certifications favored.',
    timing: 'Best study periods: Mercury and Jupiter Bhuktis',
    confidence: 88,
  },
  {
    id: 'travel',
    title: 'Foreign Travel & Settlement',
    icon: '‚úàÔ∏è',
    houses: [3, 9, 12],
    description: 'Overseas opportunities, immigration prospects, and travel timing.',
    factors: [
      { label: '12th Cusp Sub Lord', value: 'Saturn', significance: 'Signifies 3, 9, 12 - Foreign settlement possible' },
      { label: '9th House Significators', value: 'Rahu, Jupiter', significance: 'Long distance travel indicated' },
      { label: 'Rahu Position', value: 'House 4', significance: 'Desire for foreign lands' },
    ],
    prediction: 'Foreign travel and possible settlement indicated. Rahu in 4th creates desire to settle away from birthplace. Saturn as 12th sub lord connected to 9th confirms overseas connection.',
    timing: 'Travel periods: Rahu-Jupiter, Saturn-Rahu',
    confidence: 72,
  },
];
---

<Layout title="Predictions">
  <Navigation currentPath="/predictions" />

  <main class="pt-20 min-h-screen bg-[--color-cream]">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <!-- Header -->
      <div class="text-center mb-12">
        <h1 class="font-heading text-3xl md:text-4xl text-[--color-espresso] mb-4">
          KP Predictions
        </h1>
        <p class="text-[--color-text-secondary] max-w-2xl mx-auto">
          Detailed predictions based on house significators, cusp sub lords, and planetary positions.
          Each prediction shows the astrological reasoning for educational purposes.
        </p>
      </div>

      <!-- Prediction Cards -->
      <div class="space-y-8">
        {predictionCategories.map((category) => (
          <div class="card overflow-hidden" id={category.id}>
            <div class="p-6 md:p-8 border-b border-[--color-border] bg-gradient-to-r from-[--color-pearl] to-[--color-cream]">
              <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                <div class="flex items-center gap-4">
                  <span class="text-4xl">{category.icon}</span>
                  <div>
                    <h2 class="font-heading text-2xl text-[--color-espresso]">{category.title}</h2>
                    <p class="text-sm text-[--color-text-secondary]">{category.description}</p>
                  </div>
                </div>
                <div class="flex items-center gap-4">
                  <div class="text-right">
                    <p class="text-xs text-[--color-text-muted]">Relevant Houses</p>
                    <div class="flex gap-1 mt-1">
                      {category.houses.map((house) => (
                        <span class="house-badge">{house}</span>
                      ))}
                    </div>
                  </div>
                  <div class="text-right">
                    <p class="text-xs text-[--color-text-muted]">Confidence</p>
                    <div class="flex items-center gap-2 mt-1">
                      <div class="w-20 h-2 bg-[--color-linen] rounded-full overflow-hidden">
                        <div
                          class="h-full rounded-full transition-all"
                          style={`width: ${category.confidence}%; background-color: ${category.confidence >= 80 ? 'var(--color-benefic)' : category.confidence >= 60 ? 'var(--color-golden-hour)' : 'var(--color-malefic)'}`}
                        ></div>
                      </div>
                      <span class="text-sm font-semibold text-[--color-espresso]">{category.confidence}%</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="p-6 md:p-8">
              <!-- Astrological Factors -->
              <div class="mb-6">
                <h3 class="font-heading text-lg text-[--color-espresso] mb-4 flex items-center gap-2">
                  <svg class="w-5 h-5 text-[--color-terracotta]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                  </svg>
                  Astrological Factors
                </h3>
                <div class="grid md:grid-cols-3 gap-4">
                  {category.factors.map((factor) => (
                    <div class="p-4 rounded-lg bg-[--color-linen]/50 border border-[--color-border]">
                      <p class="text-xs text-[--color-text-muted] mb-1">{factor.label}</p>
                      <p class="font-semibold text-[--color-espresso] mb-2">{factor.value}</p>
                      <p class="text-xs text-[--color-text-secondary]">{factor.significance}</p>
                    </div>
                  ))}
                </div>
              </div>

              <!-- Prediction -->
              <div class="mb-6">
                <h3 class="font-heading text-lg text-[--color-espresso] mb-4 flex items-center gap-2">
                  <svg class="w-5 h-5 text-[--color-celestial-blue]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                  </svg>
                  Prediction & Analysis
                </h3>
                <div class="p-4 rounded-lg bg-[--color-surface] border border-[--color-border]">
                  <p class="text-[--color-text-secondary] leading-relaxed">{category.prediction}</p>
                </div>
              </div>

              <!-- Timing -->
              <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 p-4 rounded-lg bg-[--color-golden-hour]/10 border border-[--color-golden-hour]/20">
                <div class="flex items-center gap-3">
                  <svg class="w-5 h-5 text-[--color-golden-hour]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  <div>
                    <p class="text-xs text-[--color-text-muted]">Timing Indication</p>
                    <p class="font-medium text-[--color-espresso]">{category.timing}</p>
                  </div>
                </div>
                <a href="/dasha" class="btn btn-ghost text-sm">
                  View Dasha Timeline
                  <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        ))}
      </div>

      <!-- Disclaimer -->
      <div class="mt-12 p-6 rounded-lg bg-[--color-warm-sand] border border-[--color-border]">
        <div class="flex gap-4">
          <svg class="w-6 h-6 text-[--color-taupe] shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <div>
            <h4 class="font-heading text-lg text-[--color-espresso] mb-2">About KP Predictions</h4>
            <p class="text-sm text-[--color-text-secondary] leading-relaxed">
              These predictions are generated based on the Krishnamurti Paddhati (KP) system of Vedic astrology.
              The confidence percentage indicates the strength of astrological factors supporting each prediction.
              Predictions are meant for educational and self-reflection purposes. Major life decisions should
              consider multiple factors beyond astrological guidance.
            </p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <Footer />
</Layout>
